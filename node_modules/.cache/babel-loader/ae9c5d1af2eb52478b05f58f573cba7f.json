{"ast":null,"code":"var _jsxFileName = \"/Users/licop/Documents/GitHub/licop-kanban/src/KanbanColumn.js\",\n  _s = $RefreshSig$();\n/** @jsxImportSource @emotion/react */\nimport React, { useState } from 'react';\nimport KanbanCard from './KanbanCard';\nimport KanbanNewCard from './KanbanNewCard';\nimport { css } from '@emotion/react';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nconst kanbanColumnStyles = css`\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  border: 1px solid gray;\n  border-radius: 1rem;\n  & > h2 {\n    margin: 0.6rem 1rem;\n    padding-bottom: 0.6rem;\n    border-bottom: 1px solid gray;\n\n    & > button {\n      float: right;\n      margin-top: 0.2rem;\n      padding: 0.2rem 0.5rem;\n      border: 0;\n      border-radius: 1rem;\n      height: 1.8rem;\n      line-height: 1rem;\n      font-size: 1rem;\n    }\n  }\n\n  & > ul {\n    flex: 1;\n    flex-basis: 0;\n    margin: 1rem;\n    padding: 0;\n    overflow: auto;\n  }\n`;\nconst KanbanColumn = _ref => {\n  _s();\n  let {\n    className,\n    title,\n    canAddNew = false,\n    cardList = [],\n    setDragedItem,\n    onAdd,\n    onDrop,\n    setIsDragSource = () => {},\n    setIsDragTarget = () => {}\n  } = _ref;\n  const [showAdd, setShowAdd] = useState(false);\n  const handleAdd = evt => {\n    setShowAdd(true);\n  };\n  const handleSubmit = newCard => {\n    onAdd && onAdd(newCard);\n    setShowAdd(false);\n  };\n  return _jsxDEV(\"section\", {\n    className: className,\n    css: kanbanColumnStyles,\n    onDragStart: () => {\n      setIsDragSource(true);\n    },\n    onDragOver: evt => {\n      evt.preventDefault();\n      evt.dataTransfer.dropEffect = 'move';\n      setIsDragTarget(true);\n    },\n    onDragLeave: evt => {\n      evt.preventDefault();\n      evt.dataTransfer.dropEffect = 'none';\n      setIsDragTarget(false);\n    },\n    onDrop: evt => {\n      evt.preventDefault();\n      onDrop && onDrop(evt);\n    },\n    onDragEnd: evt => {\n      evt.preventDefault();\n      setIsDragSource(false);\n      setIsDragTarget(false);\n    },\n    children: [_jsxDEV(\"h2\", {\n      children: [title, canAddNew && _jsxDEV(\"button\", {\n        onClick: handleAdd,\n        disabled: showAdd,\n        children: \"\\u2295 \\u6DFB\\u52A0\\u65B0\\u5361\\u7247\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), _jsxDEV(\"ul\", {\n      children: [canAddNew && showAdd && _jsxDEV(KanbanNewCard, {\n        onSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 35\n      }, this), cardList.map(props => _jsxDEV(KanbanCard, {\n        onRemove: onRemove,\n        onDragStart: () => setDragedItem(props),\n        ...props\n      }, props.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(KanbanColumn, \"NX91L0P5b39KgAVb+tiVBSASQ6g=\");\n_c = KanbanColumn;\nexport default KanbanColumn;\nvar _c;\n$RefreshReg$(_c, \"KanbanColumn\");","map":{"version":3,"names":["React","useState","KanbanCard","KanbanNewCard","css","kanbanColumnStyles","KanbanColumn","className","title","canAddNew","cardList","setDragedItem","onAdd","onDrop","setIsDragSource","setIsDragTarget","showAdd","setShowAdd","handleAdd","evt","handleSubmit","newCard","preventDefault","dataTransfer","dropEffect","map","props","onRemove"],"sources":["/Users/licop/Documents/GitHub/licop-kanban/src/KanbanColumn.js"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport React, { useState } from 'react';\nimport KanbanCard from './KanbanCard'\nimport KanbanNewCard from './KanbanNewCard'\nimport { css } from '@emotion/react';\n\nconst kanbanColumnStyles = css`\n  flex: 1 1;\n  display: flex;\n  flex-direction: column;\n  border: 1px solid gray;\n  border-radius: 1rem;\n  & > h2 {\n    margin: 0.6rem 1rem;\n    padding-bottom: 0.6rem;\n    border-bottom: 1px solid gray;\n\n    & > button {\n      float: right;\n      margin-top: 0.2rem;\n      padding: 0.2rem 0.5rem;\n      border: 0;\n      border-radius: 1rem;\n      height: 1.8rem;\n      line-height: 1rem;\n      font-size: 1rem;\n    }\n  }\n\n  & > ul {\n    flex: 1;\n    flex-basis: 0;\n    margin: 1rem;\n    padding: 0;\n    overflow: auto;\n  }\n`;\n\nconst KanbanColumn = ({\n  className, \n  title,\n  canAddNew = false, \n  cardList = [],\n  setDragedItem,\n  onAdd,\n  onDrop,\n  setIsDragSource = () => { }, \n  setIsDragTarget = () => { }\n}) => {\n  const [showAdd, setShowAdd] = useState(false);\n  \n  const handleAdd = (evt) => {\n    setShowAdd(true)\n  }\n\n  const handleSubmit = (newCard) => {\n    onAdd && onAdd(newCard)\n    setShowAdd(false)\n  }\n\n  return (\n    <section\n      className={className}\n      css={kanbanColumnStyles}\n      onDragStart={() => { setIsDragSource(true); }}\n      onDragOver={(evt) => {\n        evt.preventDefault();\n        evt.dataTransfer.dropEffect = 'move';\n        setIsDragTarget(true);\n      }}\n      onDragLeave={(evt) => {\n        evt.preventDefault();\n        evt.dataTransfer.dropEffect = 'none';\n        setIsDragTarget(false);\n      }}\n      onDrop={(evt) => {\n        evt.preventDefault();\n        onDrop && onDrop(evt);\n      }}\n      onDragEnd={(evt) => {\n        evt.preventDefault();\n        setIsDragSource(false);\n        setIsDragTarget(false);\n      }}\n    >\n      <h2>\n        {title}\n        {canAddNew && (\n          <button onClick={handleAdd} disabled={showAdd}>&#8853; 添加新卡片</button>\n        )} \n      </h2>\n      <ul>\n        {\n          canAddNew && showAdd && <KanbanNewCard onSubmit={handleSubmit} />\n        }\n        {\n          cardList.map(props => \n            <KanbanCard \n              key={props.title}\n              onRemove={onRemove} \n              onDragStart={() => setDragedItem(props)}\n              {...props} \n            />\n          )  \n        }\n      </ul>\n    </section>\n  )\n}\n\nexport default KanbanColumn\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,SAASC,GAAG,QAAQ,gBAAgB;AAAC;AAErC,MAAMC,kBAAkB,GAAGD,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAME,YAAY,GAAG,QAUf;EAAA;EAAA,IAVgB;IACpBC,SAAS;IACTC,KAAK;IACLC,SAAS,GAAG,KAAK;IACjBC,QAAQ,GAAG,EAAE;IACbC,aAAa;IACbC,KAAK;IACLC,MAAM;IACNC,eAAe,GAAG,MAAM,CAAE,CAAC;IAC3BC,eAAe,GAAG,MAAM,CAAE;EAC5B,CAAC;EACC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMiB,SAAS,GAAIC,GAAG,IAAK;IACzBF,UAAU,CAAC,IAAI,CAAC;EAClB,CAAC;EAED,MAAMG,YAAY,GAAIC,OAAO,IAAK;IAChCT,KAAK,IAAIA,KAAK,CAACS,OAAO,CAAC;IACvBJ,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,OACE;IACE,SAAS,EAAEV,SAAU;IACrB,GAAG,EAAEF,kBAAmB;IACxB,WAAW,EAAE,MAAM;MAAES,eAAe,CAAC,IAAI,CAAC;IAAE,CAAE;IAC9C,UAAU,EAAGK,GAAG,IAAK;MACnBA,GAAG,CAACG,cAAc,EAAE;MACpBH,GAAG,CAACI,YAAY,CAACC,UAAU,GAAG,MAAM;MACpCT,eAAe,CAAC,IAAI,CAAC;IACvB,CAAE;IACF,WAAW,EAAGI,GAAG,IAAK;MACpBA,GAAG,CAACG,cAAc,EAAE;MACpBH,GAAG,CAACI,YAAY,CAACC,UAAU,GAAG,MAAM;MACpCT,eAAe,CAAC,KAAK,CAAC;IACxB,CAAE;IACF,MAAM,EAAGI,GAAG,IAAK;MACfA,GAAG,CAACG,cAAc,EAAE;MACpBT,MAAM,IAAIA,MAAM,CAACM,GAAG,CAAC;IACvB,CAAE;IACF,SAAS,EAAGA,GAAG,IAAK;MAClBA,GAAG,CAACG,cAAc,EAAE;MACpBR,eAAe,CAAC,KAAK,CAAC;MACtBC,eAAe,CAAC,KAAK,CAAC;IACxB,CAAE;IAAA,WAEF;MAAA,WACGP,KAAK,EACLC,SAAS,IACR;QAAQ,OAAO,EAAES,SAAU;QAAC,QAAQ,EAAEF,OAAQ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAC/C;IAAA;MAAA;MAAA;MAAA;IAAA,QACE,EACL;MAAA,WAEIP,SAAS,IAAIO,OAAO,IAAI,QAAC,aAAa;QAAC,QAAQ,EAAEI;MAAa;QAAA;QAAA;QAAA;MAAA,QAAG,EAGjEV,QAAQ,CAACe,GAAG,CAACC,KAAK,IAChB,QAAC,UAAU;QAET,QAAQ,EAAEC,QAAS;QACnB,WAAW,EAAE,MAAMhB,aAAa,CAACe,KAAK,CAAE;QAAA,GACpCA;MAAK,GAHJA,KAAK,CAAClB,KAAK;QAAA;QAAA;QAAA;MAAA,QAIhB,CACH;IAAA;MAAA;MAAA;MAAA;IAAA,QAEA;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEd,CAAC;AAAA,GAtEKF,YAAY;AAAA,KAAZA,YAAY;AAwElB,eAAeA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module"}